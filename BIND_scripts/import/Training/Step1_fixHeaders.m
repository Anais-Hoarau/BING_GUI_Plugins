%headerType must be 'T1' or 'T2'
function Step1_fixHeaders(pathToVarFile, headerType)
    tic;
    %Opening the file and storing it as a line by line cell array
    disp('Loading lines...');
    file = fopen(pathToVarFile, 'r+');
    lines = {};
    while ~feof(file)
        aLine = fgets(file);
        lines{end + 1} = aLine;
    end
    fclose(file);

    %Extracting header
    disp('Fixing headers...');
    switch(headerType)
        case 'BV'
            header = ';pas	heureGMT	indEssai	numInstruction	vp: Route	vp: Voie (mm)	vp: Pk (mm)	vp: Vit (m/s)	vp: Regime (tr/min)	vp: Topo[x](mm)	vp: Topo[y](mm)	vp: Topo[z](mm)	vp: cab.volant	vp: cab.accél	vp: cab.frein	vp: cab.embrayage	vp: cab.BV	vp: cab.indics	-1000: Route	-1000: Voie (mm)	-1000: Pk (mm)	-1000: Vit (m/s)	-1000: Topo[x](mm)	-1000: Topo[y](mm)	-1000: Topo[z](mm)	-100: Route	-100: Voie (mm)	-100: Pk (mm)	-100: Vit (m/s)	-100: Topo[x](mm)	-100: Topo[y](mm)	-100: Topo[z](mm)	-101: Route	-101: Voie (mm)	-101: Pk (mm)	-101: Vit (m/s)	-101: Topo[x](mm)	-101: Topo[y](mm)	-101: Topo[z](mm)	-102: Route	-102: Voie (mm)	-102: Pk (mm)	-102: Vit (m/s)	-102: Topo[x](mm)	-102: Topo[y](mm)	-102: Topo[z](mm)	-103: Route	-103: Voie (mm)	-103: Pk (mm)	-103: Vit (m/s)	-103: Topo[x](mm)	-103: Topo[y](mm)	-103: Topo[z](mm)	-104: Route	-104: Voie (mm)	-104: Pk (mm)	-104: Vit (m/s)	-104: Topo[x](mm)	-104: Topo[y](mm)	-104: Topo[z](mm)	-105: Route	-105: Voie (mm)	-105: Pk (mm)	-105: Vit (m/s)	-105: Topo[x](mm)	-105: Topo[y](mm)	-105: Topo[z](mm)	-106: Route	-106: Voie (mm)	-106: Pk (mm)	-106: Vit (m/s)	-106: Topo[x](mm)	-106: Topo[y](mm)	-106: Topo[z](mm)	-10: Route	-10: Voie (mm)	-10: Pk (mm)	-10: Vit (m/s)	-10: Topo[x](mm)	-10: Topo[y](mm)	-10: Topo[z](mm)	-222: Route	-222: Voie (mm)	-222: Pk (mm)	-222: Vit (m/s)	-222: Topo[x](mm)	-222: Topo[y](mm)	-222: Topo[z](mm)	-3: Route	-3: Voie (mm)	-3: Pk (mm)	-3: Vit (m/s)	-3: Topo[x](mm)	-3: Topo[y](mm)	-3: Topo[z](mm)	-4: Route	-4: Voie (mm)	-4: Pk (mm)	-4: Vit (m/s)	-4: Topo[x](mm)	-4: Topo[y](mm)	-4: Topo[z](mm)	-5: Route	-5: Voie (mm)	-5: Pk (mm)	-5: Vit (m/s)	-5: Topo[x](mm)	-5: Topo[y](mm)	-5: Topo[z](mm)	-11: Route	-11: Voie (mm)	-11: Pk (mm)	-11: Vit (m/s)	-11: Topo[x](mm)	-11: Topo[y](mm)	-11: Topo[z](mm)	-12: Route	-12: Voie (mm)	-12: Pk (mm)	-12: Vit (m/s)	-12: Topo[x](mm)	-12: Topo[y](mm)	-12: Topo[z](mm)	-13: Route	-13: Voie (mm)	-13: Pk (mm)	-13: Vit (m/s)	-13: Topo[x](mm)	-13: Topo[y](mm)	-13: Topo[z](mm)	-14: Route	-14: Voie (mm)	-14: Pk (mm)	-14: Vit (m/s)	-14: Topo[x](mm)	-14: Topo[y](mm)	-14: Topo[z](mm)	-15: Route	-15: Voie (mm)	-15: Pk (mm)	-15: Vit (m/s)	-15: Topo[x](mm)	-15: Topo[y](mm)	-15: Topo[z](mm)	-20: Route	-20: Voie (mm)	-20: Pk (mm)	-20: Vit (m/s)	-20: Topo[x](mm)	-20: Topo[y](mm)	-20: Topo[z](mm)	-21: Route	-21: Voie (mm)	-21: Pk (mm)	-21: Vit (m/s)	-21: Topo[x](mm)	-21: Topo[y](mm)	-21: Topo[z](mm)	-22: Route	-22: Voie (mm)	-22: Pk (mm)	-22: Vit (m/s)	-22: Topo[x](mm)	-22: Topo[y](mm)	-22: Topo[z](mm)	-23: Route	-23: Voie (mm)	-23: Pk (mm)	-23: Vit (m/s)	-23: Topo[x](mm)	-23: Topo[y](mm)	-23: Topo[z](mm)	-24: Route	-24: Voie (mm)	-24: Pk (mm)	-24: Vit (m/s)	-24: Topo[x](mm)	-24: Topo[y](mm)	-24: Topo[z](mm)	-25: Route	-25: Voie (mm)	-25: Pk (mm)	-25: Vit (m/s)	-25: Topo[x](mm)	-25: Topo[y](mm)	-25: Topo[z](mm)	 	 	commentaires';
        case 'noBV'
            header = ';pas	heureGMT	indEssai	numInstruction	vp: Route	vp: Voie (mm)	vp: Pk (mm)	vp: Vit (m/s)	vp: Regime (tr/min)	vp: Topo[x](mm)	vp: Topo[y](mm)	vp: Topo[z](mm)	vp: cab.volant	vp: cab.accél	vp: cab.frein	vp: cab.embrayage	vp: cab.indics	-1000: Route	-1000: Voie (mm)	-1000: Pk (mm)	-1000: Vit (m/s)	-1000: Topo[x](mm)	-1000: Topo[y](mm)	-1000: Topo[z](mm)	-100: Route	-100: Voie (mm)	-100: Pk (mm)	-100: Vit (m/s)	-100: Topo[x](mm)	-100: Topo[y](mm)	-100: Topo[z](mm)	-101: Route	-101: Voie (mm)	-101: Pk (mm)	-101: Vit (m/s)	-101: Topo[x](mm)	-101: Topo[y](mm)	-101: Topo[z](mm)	-102: Route	-102: Voie (mm)	-102: Pk (mm)	-102: Vit (m/s)	-102: Topo[x](mm)	-102: Topo[y](mm)	-102: Topo[z](mm)	-103: Route	-103: Voie (mm)	-103: Pk (mm)	-103: Vit (m/s)	-103: Topo[x](mm)	-103: Topo[y](mm)	-103: Topo[z](mm)	-104: Route	-104: Voie (mm)	-104: Pk (mm)	-104: Vit (m/s)	-104: Topo[x](mm)	-104: Topo[y](mm)	-104: Topo[z](mm)	-105: Route	-105: Voie (mm)	-105: Pk (mm)	-105: Vit (m/s)	-105: Topo[x](mm)	-105: Topo[y](mm)	-105: Topo[z](mm)	-106: Route	-106: Voie (mm)	-106: Pk (mm)	-106: Vit (m/s)	-106: Topo[x](mm)	-106: Topo[y](mm)	-106: Topo[z](mm)	-10: Route	-10: Voie (mm)	-10: Pk (mm)	-10: Vit (m/s)	-10: Topo[x](mm)	-10: Topo[y](mm)	-10: Topo[z](mm)	-222: Route	-222: Voie (mm)	-222: Pk (mm)	-222: Vit (m/s)	-222: Topo[x](mm)	-222: Topo[y](mm)	-222: Topo[z](mm)	-3: Route	-3: Voie (mm)	-3: Pk (mm)	-3: Vit (m/s)	-3: Topo[x](mm)	-3: Topo[y](mm)	-3: Topo[z](mm)	-4: Route	-4: Voie (mm)	-4: Pk (mm)	-4: Vit (m/s)	-4: Topo[x](mm)	-4: Topo[y](mm)	-4: Topo[z](mm)	-5: Route	-5: Voie (mm)	-5: Pk (mm)	-5: Vit (m/s)	-5: Topo[x](mm)	-5: Topo[y](mm)	-5: Topo[z](mm)	-11: Route	-11: Voie (mm)	-11: Pk (mm)	-11: Vit (m/s)	-11: Topo[x](mm)	-11: Topo[y](mm)	-11: Topo[z](mm)	-12: Route	-12: Voie (mm)	-12: Pk (mm)	-12: Vit (m/s)	-12: Topo[x](mm)	-12: Topo[y](mm)	-12: Topo[z](mm)	-13: Route	-13: Voie (mm)	-13: Pk (mm)	-13: Vit (m/s)	-13: Topo[x](mm)	-13: Topo[y](mm)	-13: Topo[z](mm)	-14: Route	-14: Voie (mm)	-14: Pk (mm)	-14: Vit (m/s)	-14: Topo[x](mm)	-14: Topo[y](mm)	-14: Topo[z](mm)	-15: Route	-15: Voie (mm)	-15: Pk (mm)	-15: Vit (m/s)	-15: Topo[x](mm)	-15: Topo[y](mm)	-15: Topo[z](mm)	-20: Route	-20: Voie (mm)	-20: Pk (mm)	-20: Vit (m/s)	-20: Topo[x](mm)	-20: Topo[y](mm)	-20: Topo[z](mm)	-21: Route	-21: Voie (mm)	-21: Pk (mm)	-21: Vit (m/s)	-21: Topo[x](mm)	-21: Topo[y](mm)	-21: Topo[z](mm)	-22: Route	-22: Voie (mm)	-22: Pk (mm)	-22: Vit (m/s)	-22: Topo[x](mm)	-22: Topo[y](mm)	-22: Topo[z](mm)	-23: Route	-23: Voie (mm)	-23: Pk (mm)	-23: Vit (m/s)	-23: Topo[x](mm)	-23: Topo[y](mm)	-23: Topo[z](mm)	-24: Route	-24: Voie (mm)	-24: Pk (mm)	-24: Vit (m/s)	-24: Topo[x](mm)	-24: Topo[y](mm)	-24: Topo[z](mm)	-25: Route	-25: Voie (mm)	-25: Pk (mm)	-25: Vit (m/s)	-25: Topo[x](mm)	-25: Topo[y](mm)	-25: Topo[z](mm)	 	 	commentaires';
            
%             if strcmp(townType, '1')
%                 header = ';pas	heureGMT	indEssai	numInstruction	vp: Route	vp: Voie (mm)	vp: Pk (mm)	vp: Vit (m/s)	vp: Regime (tr/min)	vp: Topo[x](mm)	vp: Topo[y](mm)	vp: Topo[z](mm)	vp: cab.volant	vp: cab.accél	vp: cab.frein	vp: cab.embrayage	vp: cab.BV	vp: cab.indics	-1000: Route	-1000: Voie (mm)	-1000: Pk (mm)	-1000: Vit (m/s)	-1000: Topo[x](mm)	-1000: Topo[y](mm)	-1000: Topo[z](mm)	-100: Route	-100: Voie (mm)	-100: Pk (mm)	-100: Vit (m/s)	-100: Topo[x](mm)	-100: Topo[y](mm)	-100: Topo[z](mm)	-101: Route	-101: Voie (mm)	-101: Pk (mm)	-101: Vit (m/s)	-101: Topo[x](mm)	-101: Topo[y](mm)	-101: Topo[z](mm)	-102: Route	-102: Voie (mm)	-102: Pk (mm)	-102: Vit (m/s)	-102: Topo[x](mm)	-102: Topo[y](mm)	-102: Topo[z](mm)	-103: Route	-103: Voie (mm)	-103: Pk (mm)	-103: Vit (m/s)	-103: Topo[x](mm)	-103: Topo[y](mm)	-103: Topo[z](mm)	-104: Route	-104: Voie (mm)	-104: Pk (mm)	-104: Vit (m/s)	-104: Topo[x](mm)	-104: Topo[y](mm)	-104: Topo[z](mm)	-105: Route	-105: Voie (mm)	-105: Pk (mm)	-105: Vit (m/s)	-105: Topo[x](mm)	-105: Topo[y](mm)	-105: Topo[z](mm)	-106: Route	-106: Voie (mm)	-106: Pk (mm)	-106: Vit (m/s)	-106: Topo[x](mm)	-106: Topo[y](mm)	-106: Topo[z](mm)	-10: Route	-10: Voie (mm)	-10: Pk (mm)	-10: Vit (m/s)	-10: Topo[x](mm)	-10: Topo[y](mm)	-10: Topo[z](mm)	-222: Route	-222: Voie (mm)	-222: Pk (mm)	-222: Vit (m/s)	-222: Topo[x](mm)	-222: Topo[y](mm)	-222: Topo[z](mm)	-3: Route	-3: Voie (mm)	-3: Pk (mm)	-3: Vit (m/s)	-3: Topo[x](mm)	-3: Topo[y](mm)	-3: Topo[z](mm)	-4: Route	-4: Voie (mm)	-4: Pk (mm)	-4: Vit (m/s)	-4: Topo[x](mm)	-4: Topo[y](mm)	-4: Topo[z](mm)	-5: Route	-5: Voie (mm)	-5: Pk (mm)	-5: Vit (m/s)	-5: Topo[x](mm)	-5: Topo[y](mm)	-5: Topo[z](mm)	-11: Route	-11: Voie (mm)	-11: Pk (mm)	-11: Vit (m/s)	-11: Topo[x](mm)	-11: Topo[y](mm)	-11: Topo[z](mm)	-12: Route	-12: Voie (mm)	-12: Pk (mm)	-12: Vit (m/s)	-12: Topo[x](mm)	-12: Topo[y](mm)	-12: Topo[z](mm)	-13: Route	-13: Voie (mm)	-13: Pk (mm)	-13: Vit (m/s)	-13: Topo[x](mm)	-13: Topo[y](mm)	-13: Topo[z](mm)	-14: Route	-14: Voie (mm)	-14: Pk (mm)	-14: Vit (m/s)	-14: Topo[x](mm)	-14: Topo[y](mm)	-14: Topo[z](mm)	-15: Route	-15: Voie (mm)	-15: Pk (mm)	-15: Vit (m/s)	-15: Topo[x](mm)	-15: Topo[y](mm)	-15: Topo[z](mm)	-20: Route	-20: Voie (mm)	-20: Pk (mm)	-20: Vit (m/s)	-20: Topo[x](mm)	-20: Topo[y](mm)	-20: Topo[z](mm)	-21: Route	-21: Voie (mm)	-21: Pk (mm)	-21: Vit (m/s)	-21: Topo[x](mm)	-21: Topo[y](mm)	-21: Topo[z](mm)	-22: Route	-22: Voie (mm)	-22: Pk (mm)	-22: Vit (m/s)	-22: Topo[x](mm)	-22: Topo[y](mm)	-22: Topo[z](mm)	-23: Route	-23: Voie (mm)	-23: Pk (mm)	-23: Vit (m/s)	-23: Topo[x](mm)	-23: Topo[y](mm)	-23: Topo[z](mm)	-24: Route	-24: Voie (mm)	-24: Pk (mm)	-24: Vit (m/s)	-24: Topo[x](mm)	-24: Topo[y](mm)	-24: Topo[z](mm)	-25: Route	-25: Voie (mm)	-25: Pk (mm)	-25: Vit (m/s)	-25: Topo[x](mm)	-25: Topo[y](mm)	-25: Topo[z](mm)	 	 	commentaires'; 
%             %0 : natio ou autor, 2 : ville2
%             else
%                 header = ';pas	heureGMT	indEssai	numInstruction	vp: Route	vp: Voie (mm)	vp: Pk (mm)	vp: Vit (m/s)	vp: Regime (tr/min)	vp: Topo[x](mm)	vp: Topo[y](mm)	vp: Topo[z](mm)	vp: cab.volant	vp: cab.accél	vp: cab.frein	vp: cab.embrayage	vp: cab.indics	-1000: Route	-1000: Voie (mm)	-1000: Pk (mm)	-1000: Vit (m/s)	-1000: Topo[x](mm)	-1000: Topo[y](mm)	-1000: Topo[z](mm)	-100: Route	-100: Voie (mm)	-100: Pk (mm)	-100: Vit (m/s)	-100: Topo[x](mm)	-100: Topo[y](mm)	-100: Topo[z](mm)	-101: Route	-101: Voie (mm)	-101: Pk (mm)	-101: Vit (m/s)	-101: Topo[x](mm)	-101: Topo[y](mm)	-101: Topo[z](mm)	-102: Route	-102: Voie (mm)	-102: Pk (mm)	-102: Vit (m/s)	-102: Topo[x](mm)	-102: Topo[y](mm)	-102: Topo[z](mm)	-103: Route	-103: Voie (mm)	-103: Pk (mm)	-103: Vit (m/s)	-103: Topo[x](mm)	-103: Topo[y](mm)	-103: Topo[z](mm)	-104: Route	-104: Voie (mm)	-104: Pk (mm)	-104: Vit (m/s)	-104: Topo[x](mm)	-104: Topo[y](mm)	-104: Topo[z](mm)	-105: Route	-105: Voie (mm)	-105: Pk (mm)	-105: Vit (m/s)	-105: Topo[x](mm)	-105: Topo[y](mm)	-105: Topo[z](mm)	-106: Route	-106: Voie (mm)	-106: Pk (mm)	-106: Vit (m/s)	-106: Topo[x](mm)	-106: Topo[y](mm)	-106: Topo[z](mm)	-10: Route	-10: Voie (mm)	-10: Pk (mm)	-10: Vit (m/s)	-10: Topo[x](mm)	-10: Topo[y](mm)	-10: Topo[z](mm)	-222: Route	-222: Voie (mm)	-222: Pk (mm)	-222: Vit (m/s)	-222: Topo[x](mm)	-222: Topo[y](mm)	-222: Topo[z](mm)	-3: Route	-3: Voie (mm)	-3: Pk (mm)	-3: Vit (m/s)	-3: Topo[x](mm)	-3: Topo[y](mm)	-3: Topo[z](mm)	-4: Route	-4: Voie (mm)	-4: Pk (mm)	-4: Vit (m/s)	-4: Topo[x](mm)	-4: Topo[y](mm)	-4: Topo[z](mm)	-5: Route	-5: Voie (mm)	-5: Pk (mm)	-5: Vit (m/s)	-5: Topo[x](mm)	-5: Topo[y](mm)	-5: Topo[z](mm)	-11: Route	-11: Voie (mm)	-11: Pk (mm)	-11: Vit (m/s)	-11: Topo[x](mm)	-11: Topo[y](mm)	-11: Topo[z](mm)	-12: Route	-12: Voie (mm)	-12: Pk (mm)	-12: Vit (m/s)	-12: Topo[x](mm)	-12: Topo[y](mm)	-12: Topo[z](mm)	-13: Route	-13: Voie (mm)	-13: Pk (mm)	-13: Vit (m/s)	-13: Topo[x](mm)	-13: Topo[y](mm)	-13: Topo[z](mm)	-14: Route	-14: Voie (mm)	-14: Pk (mm)	-14: Vit (m/s)	-14: Topo[x](mm)	-14: Topo[y](mm)	-14: Topo[z](mm)	-15: Route	-15: Voie (mm)	-15: Pk (mm)	-15: Vit (m/s)	-15: Topo[x](mm)	-15: Topo[y](mm)	-15: Topo[z](mm)	-20: Route	-20: Voie (mm)	-20: Pk (mm)	-20: Vit (m/s)	-20: Topo[x](mm)	-20: Topo[y](mm)	-20: Topo[z](mm)	-21: Route	-21: Voie (mm)	-21: Pk (mm)	-21: Vit (m/s)	-21: Topo[x](mm)	-21: Topo[y](mm)	-21: Topo[z](mm)	-22: Route	-22: Voie (mm)	-22: Pk (mm)	-22: Vit (m/s)	-22: Topo[x](mm)	-22: Topo[y](mm)	-22: Topo[z](mm)	-23: Route	-23: Voie (mm)	-23: Pk (mm)	-23: Vit (m/s)	-23: Topo[x](mm)	-23: Topo[y](mm)	-23: Topo[z](mm)	-24: Route	-24: Voie (mm)	-24: Pk (mm)	-24: Vit (m/s)	-24: Topo[x](mm)	-24: Topo[y](mm)	-24: Topo[z](mm)	-25: Route	-25: Voie (mm)	-25: Pk (mm)	-25: Vit (m/s)	-25: Topo[x](mm)	-25: Topo[y](mm)	-25: Topo[z](mm)	 	 	commentaires';
%             end
        otherwise
            error('headerType is not either BV or noBV');
    end
    
    disp('Rewriting the file...');
    file = fopen(pathToVarFile, 'w');
    fprintf(file, '%s\n', header);
    for i = 2:1:length(lines)
        fprintf(file, '%s', lines{i});
    end
    fclose(file);
    elapsedTime = toc;
    disp(['Headers fixed in ' num2str(elapsedTime) ' seconds']);
end